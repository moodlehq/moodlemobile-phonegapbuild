<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <meta http-equiv="Content-Security-Policy" content="default-src * filesystem: cdvfile: file: gap: https://ssl.gstatic.com; img-src * filesystem: gap: data: cdvfile: file: https://ssl.gstatic.com android-webview-video-poster:; style-src 'self' 'unsafe-inline' filesystem: cdvfile: file:; script-src 'self' 'unsafe-inline' 'unsafe-eval' http://localhost:* filesystem: cdvfile: file:">
    <title></title>
    <link href="build/mm.bundle.css" rel="stylesheet">
    <script src="lib/ionic/release/js/ionic.bundle.js"></script>
    <script src="cordova.js"></script>
    <script src="lib/angular-translate/angular-translate.js"></script>
    <script src="lib/angular-translate-loader-partial/angular-translate-loader-partial.js"></script>
    <script src="lib/ngCordova/dist/ng-cordova.js"></script>
    <script src="lib/ydn.db/jsc/ydn.db-dev.js"></script>
    <script src="lib/angular-md5/angular-md5.js"></script>
    <script src="lib/angular-aria/angular-aria.js"></script>
    <script src="lib/moment/min/moment-with-locales.js"></script>
    <script src="lib/jszip/dist/jszip.js"></script>
    <script src="lib/oclazyload/dist/ocLazyLoad.js"></script>
    <script src="lib/ckeditor/ckeditor.js"></script>
    <script src="lib/angular-ckeditor/angular-ckeditor.js"></script>
    <script src="lib/angular-messages/angular-messages.js"></script>
    <script src="build/mm.bundle.js"></script>
    <script>
var admobid = {};
if( /(android)/i.test(navigator.userAgent) ) { 
    admobid = { // for Android
        banner: 'ca-app-pub-8871136577207939/7772784807',
        interstitial: 'ca-app-pub-8871136577207939/6296051605'
    };
} else if(/(ipod|iphone|ipad)/i.test(navigator.userAgent)) {
    admobid = { // for iOS
        banner: 'ca-app-pub-8871136577207939/7772784807',
        interstitial: 'ca-app-pub-8871136577207939/6296051605'
    };
} else {
    admobid = { // for Windows Phone
        banner: 'ca-app-pub-8871136577207939/7772784807',
        interstitial: 'ca-app-pub-8871136577207939/6296051605'
    };
}

function initApp() {
    if (AdMob) {
        AdMob.createBanner({
            adId : admobid.banner,
            position : AdMob.AD_POSITION.BOTTOM_CENTER,
            autoShow : true
        });
    }
}

document.addEventListener('deviceready', initApp, false);
</script>
    
  <script>
		function onLoad() {
			if ((/(ipad|iphone|ipod|android)/i.test(navigator.userAgent))) {
				document.addEventListener('deviceready', initApp, false);
			} else {
				initApp();
			}
		}
		var ad_units = {
			ios : { 
				banner:"1277654215648238_1277658135647846",
				interstitial:"1277654215648238_1277658135647846",
                nativeAd:"1277654215648238_1277658135647846"
			},
			android : {
				banner:"1277654215648238_1277658135647846",
				interstitial:"1277654215648238_1277658135647846",
                nativeAd:"1277654215648238_1277658135647846"
			}
		};
		// select the right Ad Id according to platform
		var adid = (/(android)/i.test(navigator.userAgent)) ? ad_units.android : ad_units.ios;
		function initApp() {
			if (! FacebookAds) {
				alert('FacebookAds plugin not ready');
				return;
			}
			registerAdEvents();
			
			FacebookAds.setOptions({
				isTesting: true,
				deviceHash: 'fdc5f8896ce1d0642d7311b52228189253cacbf850e'
			});
			createSelectedBanner();
		}
		var nativeId = null;
		function updateClickArea(){
			if (nativeId != null) {
				// change the click area
				var offset = $("#nativead").offset();
				var y = offset.top - $(window).scrollTop();
				var x = offset.left - $(window).scrollLeft();
				var w = $("#nativead").width();
				var h = $("#nativead").height();
				if(FacebookAds) FacebookAds.setNativeAdClickArea(nativeId, x, y, w, h);
			}
		}
		$(window).scroll(function(){
			updateClickArea();
		});
		// optional, in case respond to events or handle error
		function registerAdEvents() {
			document.addEventListener('onAdFailLoad', function(data) {
				alert('error: ' + data.error + ', reason: ' + data.reason);
			});
			document.addEventListener('onAdLoaded',function(data) {
				if (data.adType == "native") {
					var adRes = data.adRes;
					//alert( JSON.stringify(adRes) );
			
					// show ad
					nativeId = data.adId;
					var nativeAdContent = adRes.title + '<br/>'
							+ adRes.body
							+ "<br/>rating: " + adRes.rating + ", " + adRes.buttonText + "<br/>"
							+ adRes.socialContext + "<br/>"
							+ "<img src='" + adRes.icon.url + "' width='" + adRes.icon.width + "' height='" + adRes.icon.height + "'/><br/>"
							//+ "<img src='" + adRes.coverImage.url + "' width='" + adRes.coverImage.width + "' height='" + adRes.coverImage.height + "'/>"
							;
					$('#nativead').html(nativeAdContent);
					
					updateClickArea();
				}
			});
			document.addEventListener('onAdPresent', function(data) {
			});
			document.addEventListener('onAdLeaveApp', function(data) {
			});
			document.addEventListener('onAdDismiss', function(data) {
			});
		}
		// click button to call following functions
		function getSelectedAdSize() {
			var i = document.getElementById("adSize").selectedIndex;
			var items = document.getElementById("adSize").options;
			return items[i].value;
		}
		function getSelectedPosition() {
			var i = document.getElementById("adPosition").selectedIndex;
			var items = document.getElementById("adPosition").options;
			return parseInt(items[i].value);
		}
		function createSelectedBanner() {
			var overlap = document.getElementById('overlap').checked;
			FacebookAds.createBanner({
				adId : adid.banner,
				overlap : overlap,
				adSize : getSelectedAdSize(),
				position : getSelectedPosition()
			});
		}
		function showBannerAtSelectedPosition() {
			if(FacebookAds) FacebookAds.showBanner(getSelectedPosition());
		}
		function showBannerAtGivenXY() {
			var x = document.getElementById('x').value;
			var y = document.getElementById('y').value;
			if(FacebookAds) FacebookAds.showBannerAtXY(x, y);
		}
		function prepareInterstitial() {
			var autoshow = document.getElementById('autoshow').checked;
			if(FacebookAds) FacebookAds.prepareInterstitial({
				adId : adid.interstitial,
				autoShow : autoshow
			});
		}
		function onResize() {
			var s = document.getElementById('sizeinfo');
			s.innerHTML = "web view: " + window.innerWidth + " x "
					+ window.innerHeight;
		}
		function createNativeAd() {
			if(FacebookAds) FacebookAds.createNativeAd(adid.nativeAd);
		}
		function removeNativeAd() {
			$('#nativead').html("<br/>");
			if(FacebookAds) FacebookAds.removeNativeAd(nativeId);
		}
	</script>
    
    <style></style> <!-- Empty style to make easier to test styles using Inspector. -->
  </head>
  <body ng-app="mm">
    <ion-nav-view></ion-nav-view>
  </body>
</html>
