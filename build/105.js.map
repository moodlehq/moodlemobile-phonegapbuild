{"version":3,"sources":["../../src/addon/messages/pages/group-conversations/group-conversations.module.ts","../../src/addon/messages/pages/group-conversations/group-conversations.ts"],"names":[],"mappings":"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","file":"105.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AddonMessagesGroupConversationsPage } from './group-conversations';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CorePipesModule } from '@pipes/pipes.module';\n\n@NgModule({\n    declarations: [\n        AddonMessagesGroupConversationsPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule,\n        IonicPageModule.forChild(AddonMessagesGroupConversationsPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class AddonMessagesGroupConversationsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/messages/pages/group-conversations/group-conversations.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, Platform, NavController, NavParams, Content } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreSitesProvider } from '@providers/sites';\nimport { AddonMessagesProvider } from '../../providers/messages';\nimport { AddonMessagesOfflineProvider } from '../../providers/messages-offline';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { CoreUtilsProvider } from '@providers/utils/utils';\nimport { AddonPushNotificationsDelegate } from '@addon/pushnotifications/providers/delegate';\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\nimport { CoreUserProvider } from '@core/user/providers/user';\n\n/**\n * Page that displays the list of conversations, including group conversations.\n */\n@IonicPage({ segment: 'addon-messages-group-conversations' })\n@Component({\n    selector: 'page-addon-messages-group-conversations',\n    templateUrl: 'group-conversations.html',\n})\nexport class AddonMessagesGroupConversationsPage implements OnInit, OnDestroy {\n    @ViewChild(CoreSplitViewComponent) splitviewCtrl: CoreSplitViewComponent;\n    @ViewChild(Content) content: Content;\n    @ViewChild('favlist') favListEl: ElementRef;\n    @ViewChild('grouplist') groupListEl: ElementRef;\n    @ViewChild('indlist') indListEl: ElementRef;\n\n    loaded = false;\n    loadingMessage: string;\n    selectedConversationId: number;\n    selectedUserId: number;\n    contactRequestsCount = 0;\n    favourites: any = {\n        type: null,\n        favourites: true,\n        count: 0,\n        unread: 0\n    };\n    group: any = {\n        type: AddonMessagesProvider.MESSAGE_CONVERSATION_TYPE_GROUP,\n        favourites: false,\n        count: 0,\n        unread: 0\n    };\n    individual: any = {\n        type: AddonMessagesProvider.MESSAGE_CONVERSATION_TYPE_INDIVIDUAL,\n        favourites: false,\n        count: 0,\n        unread: 0\n    };\n    typeIndividual = AddonMessagesProvider.MESSAGE_CONVERSATION_TYPE_INDIVIDUAL;\n    currentListEl: HTMLElement;\n\n    protected loadingString: string;\n    protected siteId: string;\n    protected currentUserId: number;\n    protected conversationId: number;\n    protected newMessagesObserver: any;\n    protected pushObserver: any;\n    protected appResumeSubscription: any;\n    protected readChangedObserver: any;\n    protected cronObserver: any;\n    protected openConversationObserver: any;\n    protected updateConversationListObserver: any;\n    protected contactRequestsCountObserver: any;\n    protected memberInfoObserver: any;\n\n    constructor(eventsProvider: CoreEventsProvider, sitesProvider: CoreSitesProvider, translate: TranslateService,\n            private messagesProvider: AddonMessagesProvider, private domUtils: CoreDomUtilsProvider, navParams: NavParams,\n            private navCtrl: NavController, platform: Platform, private utils: CoreUtilsProvider,\n            pushNotificationsDelegate: AddonPushNotificationsDelegate, private messagesOffline: AddonMessagesOfflineProvider,\n            private userProvider: CoreUserProvider) {\n\n        this.loadingString = translate.instant('core.loading');\n        this.siteId = sitesProvider.getCurrentSiteId();\n        this.currentUserId = sitesProvider.getCurrentSiteUserId();\n        this.conversationId = navParams.get('conversationId') || false;\n\n        // Update conversations when new message is received.\n        this.newMessagesObserver = eventsProvider.on(AddonMessagesProvider.NEW_MESSAGE_EVENT, (data) => {\n            // Check if the new message belongs to the option that is currently expanded.\n            const expandedOption = this.getExpandedOption(),\n                messageOption = this.getConversationOption(data);\n\n            if (expandedOption != messageOption) {\n                return; // Message doesn't belong to current list, stop.\n            }\n\n            // Search the conversation to update.\n            const conversation = this.findConversation(data.conversationId, data.userId, expandedOption);\n\n            if (typeof conversation == 'undefined') {\n                // Probably a new conversation, refresh the list.\n                this.loaded = false;\n                this.refreshData().finally(() => {\n                    this.loaded = true;\n                });\n            } else if (conversation.lastmessage != data.message || conversation.lastmessagedate != data.timecreated / 1000) {\n                const isNewer = data.timecreated / 1000 > conversation.lastmessagedate;\n\n                // An existing conversation has a new message, update the last message.\n                conversation.lastmessage = data.message;\n                conversation.lastmessagedate = data.timecreated / 1000;\n\n                // Sort the affected list.\n                const option = this.getConversationOption(conversation);\n                option.conversations = this.messagesProvider.sortConversations(option.conversations);\n\n                if (isNewer) {\n                    // The last message is newer than the previous one, scroll to top to keep viewing the conversation.\n                    this.domUtils.scrollToTop(this.content);\n                }\n            }\n        }, this.siteId);\n\n        // Update conversations when a message is read.\n        this.readChangedObserver = eventsProvider.on(AddonMessagesProvider.READ_CHANGED_EVENT, (data) => {\n            if (data.conversationId) {\n                const conversation = this.findConversation(data.conversationId);\n\n                if (typeof conversation != 'undefined') {\n                    // A conversation has been read reset counter.\n                    conversation.unreadcount = 0;\n\n                    // Conversations changed, invalidate them and refresh unread counts.\n                    this.messagesProvider.invalidateConversations();\n                    this.messagesProvider.refreshUnreadConversationCounts();\n                }\n            }\n        }, this.siteId);\n\n        // Load a discussion if we receive an event to do so.\n        this.openConversationObserver = eventsProvider.on(AddonMessagesProvider.OPEN_CONVERSATION_EVENT, (data) => {\n            if (data.conversationId || data.userId) {\n                this.gotoConversation(data.conversationId, data.userId);\n            }\n        }, this.siteId);\n\n        // Refresh the view when the app is resumed.\n        this.appResumeSubscription = platform.resume.subscribe(() => {\n            if (!this.loaded) {\n                return;\n            }\n            this.loaded = false;\n            this.refreshData().finally(() => {\n                this.loaded = true;\n            });\n        });\n\n        // Update conversations if we receive an event to do so.\n        this.updateConversationListObserver = eventsProvider.on(AddonMessagesProvider.UPDATE_CONVERSATION_LIST_EVENT, () => {\n            this.refreshData();\n        }, this.siteId);\n\n        // If a message push notification is received, refresh the view.\n        this.pushObserver = pushNotificationsDelegate.on('receive').subscribe((notification) => {\n            // New message received. If it's from current site, refresh the data.\n            if (utils.isFalseOrZero(notification.notif) && notification.site == this.siteId) {\n                // Don't refresh unread counts, it's refreshed from the main menu handler in this case.\n                this.refreshData(null, false);\n            }\n        });\n\n        // Update unread conversation counts.\n        this.cronObserver = eventsProvider.on(AddonMessagesProvider.UNREAD_CONVERSATION_COUNTS_EVENT, (data) => {\n            this.favourites.unread = data.favourites;\n            this.individual.unread = data.individual;\n            this.group.unread = data.group;\n         }, this.siteId);\n\n        // Update the contact requests badge.\n        this.contactRequestsCountObserver = eventsProvider.on(AddonMessagesProvider.CONTACT_REQUESTS_COUNT_EVENT, (data) => {\n            this.contactRequestsCount = data.count;\n        }, this.siteId);\n\n        // Update block status of a user.\n        this.memberInfoObserver = eventsProvider.on(AddonMessagesProvider.MEMBER_INFO_CHANGED_EVENT, (data) => {\n            if (!data.userBlocked && !data.userUnblocked) {\n                // The block status has not changed, ignore.\n                return;\n            }\n\n            const expandedOption = this.getExpandedOption();\n            if (expandedOption == this.individual || expandedOption == this.favourites) {\n                if (!expandedOption.conversations || expandedOption.conversations.length <= 0) {\n                    return;\n                }\n\n                const conversation = this.findConversation(undefined, data.userId, expandedOption);\n                if (conversation) {\n                    conversation.isblocked = data.userBlocked;\n                }\n            }\n        }, this.siteId);\n    }\n\n    /**\n     * Component loaded.\n     */\n    ngOnInit(): void {\n        if (this.conversationId) {\n            // There is a discussion to load, open the discussion in a new state.\n            this.gotoConversation(this.conversationId);\n        }\n\n        this.fetchData().then(() => {\n            if (!this.conversationId && this.splitviewCtrl.isOn()) {\n                // Load the first conversation.\n                let conversation;\n                const expandedOption = this.getExpandedOption();\n\n                if (expandedOption) {\n                    conversation = expandedOption.conversations[0];\n                }\n\n                if (conversation) {\n                    this.gotoConversation(conversation.id);\n                }\n            }\n        });\n    }\n\n    /**\n     * Fetch conversations.\n     *\n     * @param {booleam} [refreshUnreadCounts=true] Whether to refresh unread counts.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected fetchData(refreshUnreadCounts: boolean = true): Promise<any> {\n        this.loadingMessage = this.loadingString;\n\n        // Load the amount of conversations and contact requests.\n        const promises = [];\n\n        promises.push(this.fetchConversationCounts());\n        promises.push(this.messagesProvider.getContactRequestsCount());  // View updated by the event observer.\n\n        return Promise.all(promises).then(() => {\n            if (typeof this.favourites.expanded == 'undefined') {\n                // The expanded status hasn't been initialized. Do it now.\n                if (this.conversationId) {\n                    // A certain conversation should be opened.\n                    // We don't know which option it belongs to, so we need to fetch the data for all of them.\n                    const promises = [];\n\n                    promises.push(this.fetchDataForOption(this.favourites, false, refreshUnreadCounts));\n                    promises.push(this.fetchDataForOption(this.group, false, refreshUnreadCounts));\n                    promises.push(this.fetchDataForOption(this.individual, false, refreshUnreadCounts));\n\n                    return Promise.all(promises).then(() => {\n                        // All conversations have been loaded, find the one we need to load and expand its option.\n                        const conversation = this.findConversation(this.conversationId);\n                        if (conversation) {\n                            const option = this.getConversationOption(conversation);\n\n                            return this.expandOption(option, refreshUnreadCounts);\n                        } else {\n                            // Conversation not found, just open the default option.\n                            this.calculateExpandedStatus();\n\n                            // Now load the data for the expanded option.\n                            return this.fetchDataForExpandedOption(refreshUnreadCounts);\n                        }\n                    });\n                }\n\n                // No conversation specified or not found, determine which one should be expanded.\n                this.calculateExpandedStatus();\n            }\n\n            // Now load the data for the expanded option.\n            return this.fetchDataForExpandedOption(refreshUnreadCounts);\n        }).catch((error) => {\n            this.domUtils.showErrorModalDefault(error, 'addon.messages.errorwhileretrievingdiscussions', true);\n        }).finally(() => {\n            this.loaded = true;\n        });\n    }\n\n    /**\n     * Calculate which option should be expanded initially.\n     */\n    protected calculateExpandedStatus(): void {\n        this.favourites.expanded = this.favourites.count != 0;\n        this.group.expanded = this.favourites.count == 0 && this.group.count != 0;\n        this.individual.expanded = this.favourites.count == 0 && this.group.count == 0;\n\n        this.loadCurrentListElement();\n    }\n\n    /**\n     * Fetch data for the expanded option.\n     *\n     * @param {booleam} [refreshUnreadCounts=true] Whether to refresh unread counts.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected fetchDataForExpandedOption(refreshUnreadCounts: boolean = true): Promise<any> {\n        const expandedOption = this.getExpandedOption();\n\n        if (expandedOption) {\n            return this.fetchDataForOption(expandedOption, false, refreshUnreadCounts);\n        } else {\n            // All options are collapsed, update the counts.\n            const promises = [];\n\n            promises.push(this.fetchConversationCounts());\n            if (refreshUnreadCounts) {\n                promises.push(this.messagesProvider.refreshUnreadConversationCounts()); // View updated by the event observer.\n            }\n\n            return Promise.all(promises);\n        }\n    }\n\n    /**\n     * Fetch data for a certain option.\n     *\n     * @param {any} option The option to fetch data for.\n     * @param {boolean} [loadingMore} Whether we are loading more data or just the first ones.\n     * @param {booleam} [refreshUnreadCounts=true] Whether to refresh unread counts.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    fetchDataForOption(option: any, loadingMore?: boolean, refreshUnreadCounts: boolean = true): Promise<void> {\n        option.loadMoreError = false;\n\n        const limitFrom = loadingMore ? option.conversations.length : 0,\n            promises = [];\n        let data,\n            offlineMessages;\n\n        // Get the conversations and, if needed, the offline messages. Always try to get the latest data.\n        promises.push(this.messagesProvider.invalidateConversations().catch(() => {\n            // Shouldn't happen.\n        }).then(() => {\n            return this.messagesProvider.getConversations(option.type, option.favourites, limitFrom);\n        }).then((result) => {\n            data = result;\n        }));\n\n        if (!loadingMore) {\n            promises.push(this.messagesOffline.getAllMessages().then((data) => {\n                offlineMessages = data;\n            }));\n\n            promises.push(this.fetchConversationCounts());\n            if (refreshUnreadCounts) {\n                promises.push(this.messagesProvider.refreshUnreadConversationCounts()); // View updated by the event observer.\n            }\n        }\n\n        return Promise.all(promises).then(() => {\n            if (loadingMore) {\n                option.conversations = option.conversations.concat(data.conversations);\n                option.canLoadMore = data.canLoadMore;\n            } else {\n                option.conversations = data.conversations;\n                option.canLoadMore = data.canLoadMore;\n\n                if (offlineMessages && offlineMessages.length) {\n                    return this.loadOfflineMessages(option, offlineMessages).then(() => {\n                        // Sort the conversations, the offline messages could affect the order.\n                        option.conversations = this.messagesProvider.sortConversations(option.conversations);\n                    });\n                }\n            }\n\n        });\n    }\n\n    /**\n     * Fetch conversation counts.\n     *\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected fetchConversationCounts(): Promise<void> {\n        // Always try to get the latest data.\n        return this.messagesProvider.invalidateConversationCounts().catch(() => {\n            // Shouldn't happen.\n        }).then(() => {\n            return this.messagesProvider.getConversationCounts();\n        }).then((counts) => {\n            this.favourites.count = counts.favourites;\n            this.individual.count = counts.individual;\n            this.group.count = counts.group;\n        });\n    }\n\n    /**\n     * Find a conversation in the list of loaded conversations.\n     *\n     * @param {number} conversationId The conversation ID to search.\n     * @param {number} userId User ID to search (if no conversationId).\n     * @param {any} [option] The option to search in. If not defined, search in all options.\n     * @return {any} Conversation.\n     */\n    protected findConversation(conversationId: number, userId?: number, option?: any): any {\n        if (conversationId) {\n            const conversations = option ? (option.conversations || []) : ((this.favourites.conversations || [])\n                    .concat(this.group.conversations || []).concat(this.individual.conversations || []));\n\n            return conversations.find((conv) => {\n                return conv.id == conversationId;\n            });\n        }\n\n        const conversations = option ? (option.conversations || []) :\n                ((this.favourites.conversations || []).concat(this.individual.conversations || []));\n\n        return conversations.find((conv) => {\n            return conv.userid == userId;\n        });\n    }\n\n    /**\n     * Get the option that is currently expanded, undefined if they are all collapsed.\n     *\n     * @return {any} Option currently expanded.\n     */\n    protected getExpandedOption(): any {\n        if (this.favourites.expanded) {\n            return this.favourites;\n        } else if (this.group.expanded) {\n            return this.group;\n        } else if (this.individual.expanded) {\n            return this.individual;\n        }\n    }\n\n    /**\n     * Navigate to contacts view.\n     */\n    gotoContacts(): void {\n        this.splitviewCtrl.getMasterNav().push('AddonMessagesContactsPage');\n    }\n\n    /**\n     * Navigate to a particular conversation.\n     *\n     * @param {number} conversationId Conversation Id to load.\n     * @param {number} userId User of the conversation. Only if there is no conversationId.\n     * @param {number} [messageId] Message to scroll after loading the discussion. Used when searching.\n     */\n    gotoConversation(conversationId: number, userId?: number, messageId?: number): void {\n        this.selectedConversationId = conversationId;\n        this.selectedUserId = userId;\n\n        const params = {\n            conversationId: conversationId,\n            userId: userId\n        };\n        if (messageId) {\n            params['message'] = messageId;\n        }\n        this.splitviewCtrl.push('AddonMessagesDiscussionPage', params);\n    }\n\n    /**\n     * Navigate to message settings.\n     */\n    gotoSettings(): void {\n        this.splitviewCtrl.push('AddonMessagesSettingsPage');\n    }\n\n    /**\n     * Function to load more conversations.\n     *\n     * @param {any} option The option to fetch data for.\n     * @param {any} [infiniteComplete] Infinite scroll complete function. Only used from core-infinite-loading.\n     * @return {Promise<any>} Resolved when done.\n     */\n    loadMoreConversations(option: any, infiniteComplete?: any): Promise<any> {\n        return this.fetchDataForOption(option, true).catch((error) => {\n            this.domUtils.showErrorModalDefault(error, 'addon.messages.errorwhileretrievingdiscussions', true);\n            option.loadMoreError = true;\n        }).finally(() => {\n            infiniteComplete && infiniteComplete();\n        });\n    }\n\n    /**\n     * Load offline messages into the conversations.\n     *\n     * @param {any} option The option where the messages should be loaded.\n     * @param {any[]} messages Offline messages.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected loadOfflineMessages(option: any, messages: any[]): Promise<any> {\n        const promises = [];\n\n        messages.forEach((message) => {\n            if (message.conversationid) {\n                // It's an existing conversation. Search it in the current option.\n                let conversation = this.findConversation(message.conversationid, undefined, option);\n\n                if (conversation) {\n                    // Check if it's the last message. Offline messages are considered more recent than sent messages.\n                    if (typeof conversation.lastmessage === 'undefined' || conversation.lastmessage === null ||\n                            !conversation.lastmessagepending || conversation.lastmessagedate <= message.timecreated / 1000) {\n\n                        this.addLastOfflineMessage(conversation, message);\n                    }\n                } else {\n                    // Conversation not found, it could be an old one or the message could belong to another option.\n                    conversation = message.conversation || {};\n                    conversation.id = message.conversationid;\n\n                    if (this.getConversationOption(conversation) == option) {\n                        // Message belongs to current option, add the conversation.\n                        this.addLastOfflineMessage(conversation, message);\n                        this.addOfflineConversation(conversation);\n                    }\n                }\n            } else if (option == this.individual) {\n                // It's a new conversation. Check if we already created it (there is more than one message for the same user).\n                const conversation = this.findConversation(undefined, message.touserid, option);\n\n                message.text = message.smallmessage;\n\n                if (conversation) {\n                    // Check if it's the last message. Offline messages are considered more recent than sent messages.\n                    if (conversation.lastmessagedate <= message.timecreated / 1000) {\n                        this.addLastOfflineMessage(conversation, message);\n                    }\n                } else {\n                    // Get the user data and create a new conversation if it belongs to the current option.\n                    promises.push(this.userProvider.getProfile(message.touserid, undefined, true).catch(() => {\n                        // User not found.\n                    }).then((user) => {\n                        const conversation = {\n                            userid: message.touserid,\n                            name: user ? user.fullname : String(message.touserid),\n                            imageurl: user ? user.profileimageurl : '',\n                            type: AddonMessagesProvider.MESSAGE_CONVERSATION_TYPE_INDIVIDUAL\n                        };\n\n                        this.addLastOfflineMessage(conversation, message);\n                        this.addOfflineConversation(conversation);\n                    }));\n                }\n            }\n        });\n\n        return Promise.all(promises);\n    }\n\n    /**\n     * Add an offline conversation into the right list of conversations.\n     *\n     * @param {any} conversation Offline conversation to add.\n     */\n    protected addOfflineConversation(conversation: any): void {\n        const option = this.getConversationOption(conversation);\n        option.conversations.unshift(conversation);\n    }\n\n    /**\n     * Add a last offline message into a conversation.\n     *\n     * @param {any} conversation Conversation where to put the last message.\n     * @param {any} message Offline message to add.\n     */\n    protected addLastOfflineMessage(conversation: any, message: any): void {\n        conversation.lastmessage = message.text;\n        conversation.lastmessagedate = message.timecreated / 1000;\n        conversation.lastmessagepending = true;\n        conversation.sentfromcurrentuser = true;\n    }\n\n    /**\n     * Given a conversation, return its option (favourites, group, individual).\n     *\n     * @param {any} conversation Conversation to check.\n     * @return {any} Option object.\n     */\n    protected getConversationOption(conversation: any): any {\n        if (conversation.isfavourite) {\n            return this.favourites;\n        } else if (conversation.type == AddonMessagesProvider.MESSAGE_CONVERSATION_TYPE_GROUP) {\n            return this.group;\n        } else {\n            return this.individual;\n        }\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param {any} [refresher] Refresher.\n     * @param {booleam} [refreshUnreadCounts=true] Whether to refresh unread counts.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    refreshData(refresher?: any, refreshUnreadCounts: boolean = true): Promise<any> {\n        // Don't invalidate conversations and so, they always try to get latest data.\n        const promises = [\n            this.messagesProvider.invalidateContactRequestsCountCache()\n        ];\n\n        return this.utils.allPromises(promises).finally(() => {\n            return this.fetchData(refreshUnreadCounts).finally(() => {\n                if (refresher) {\n                    refresher.complete();\n                }\n            });\n        });\n    }\n\n    /**\n     * Toogle the visibility of an option (expand/collapse).\n     *\n     * @param {any} option The option to expand/collapse.\n     */\n    toggle(option: any): void {\n        if (option.expanded) {\n            // Already expanded, close it.\n            option.expanded = false;\n            this.loadCurrentListElement();\n        } else {\n            this.expandOption(option).catch((error) => {\n                this.domUtils.showErrorModalDefault(error, 'addon.messages.errorwhileretrievingdiscussions', true);\n            });\n        }\n    }\n\n    /**\n     * Expand a certain option.\n     *\n     * @param {any} option The option to expand.\n     * @param {booleam} [refreshUnreadCounts=true] Whether to refresh unread counts.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected expandOption(option: any, refreshUnreadCounts: boolean = true): Promise<any> {\n        // Collapse all and expand the right one.\n        this.favourites.expanded = false;\n        this.group.expanded = false;\n        this.individual.expanded = false;\n\n        option.expanded = true;\n        option.loading = true;\n\n        return this.fetchDataForOption(option, false, refreshUnreadCounts).then(() => {\n            this.loadCurrentListElement();\n        }).catch((error) => {\n            option.expanded = false;\n\n            return Promise.reject(error);\n        }).finally(() => {\n            option.loading = false;\n        });\n    }\n\n    /**\n     * Load the current list element based on the expanded list.\n     */\n    protected loadCurrentListElement(): void {\n        if (this.favourites.expanded) {\n            this.currentListEl = this.favListEl && this.favListEl.nativeElement;\n        } else if (this.group.expanded) {\n            this.currentListEl = this.groupListEl && this.groupListEl.nativeElement;\n        } else if (this.individual.expanded) {\n            this.currentListEl = this.indListEl && this.indListEl.nativeElement;\n        } else {\n            this.currentListEl = undefined;\n        }\n    }\n\n    /**\n     * Navigate to the search page.\n     */\n    gotoSearch(): void {\n        this.navCtrl.push('AddonMessagesSearchPage');\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.newMessagesObserver && this.newMessagesObserver.off();\n        this.appResumeSubscription && this.appResumeSubscription.unsubscribe();\n        this.pushObserver && this.pushObserver.unsubscribe();\n        this.readChangedObserver && this.readChangedObserver.off();\n        this.cronObserver && this.cronObserver.off();\n        this.openConversationObserver && this.openConversationObserver.off();\n        this.updateConversationListObserver && this.updateConversationListObserver.off();\n        this.contactRequestsCountObserver && this.contactRequestsCountObserver.off();\n        this.memberInfoObserver && this.memberInfoObserver.off();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/messages/pages/group-conversations/group-conversations.ts"],"sourceRoot":""}